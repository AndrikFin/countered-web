<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="authoring-tool" content="Adobe_Animate_CC">
	<link rel="stylesheet" type="text/css" href="styles/reset.css">
	<link rel="stylesheet" type="text/css" href="styles/style.css">
	<title>Countered</title>
	<script src="scripts/phaser.js"></script>
	<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
	<script src="scripts/loading_animation.js"></script>
	<style type="text/css">
/*	@font-face {
		font-family: 'concrete';
		src: url('fonts/CMUConcrete-Roman.eot');
		src: url('fonts/CMUConcrete-Roman.eot?#iefix') format('embedded-opentype'),
		url('fonts/CMUConcrete-Roman.woff2') format('woff2'),
		url('fonts/CMUConcrete-Roman.woff') format('woff'),
		url('fonts/CMUConcrete-Roman.ttf') format('truetype'),
		url('fonts/CMUConcrete-Roman.svg#CMUConcrete-Roman') format('svg');
		font-weight: 500;
		font-style: normal;
	}

	@font-face {
		font-family: 'concrete';
		src: url('fonts/CMUConcrete-Bold.eot');
		src: url('fonts/CMUConcrete-Bold.eot?#iefix') format('embedded-opentype'),
		url('fonts/CMUConcrete-Bold.woff2') format('woff2'),
		url('fonts/CMUConcrete-Bold.woff') format('woff'),
		url('fonts/CMUConcrete-Bold.ttf') format('truetype'),
		url('fonts/CMUConcrete-Bold.svg#CMUConcrete-Bold') format('svg');
		font-weight: bold;
		font-style: normal;
		}*/

		h1 {
			font-family: concrete;
			font-weight: bold;
			color: white;
			font-size: 92px;
			left: 430px;
			top: -162px;
		}
		h2 {
			font-family: concrete;
			font-weight: normal;
			color: white;
			font-size: 60px;
			width: 600px;
			left: 290px;
			top: 52px;
		}

		h1, h2 {
			position: absolute;
			margin: 0;
			opacity: 0;
			animation: title 2s ease-in-out forwards;
			animation-delay: 4.8s;
		}

		@keyframes title {
			0%  {opacity: 0;}
			100% {opacity: 1;}
		}

		div {
			position: relative;
		}

		body {
			background-color: #252525;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		div {
			max-width: 1280px;
			max-height: 736px;
		}
		canvas {   
			margin-top: 20px;
			image-rendering: pixelated;
			image-rendering: -moz-crisp-edges;
			image-rendering: crisp-edges;
			width: 100%;
			max-width: 1280px;
		}

		a.animated-button {
			padding: 0 20px;
			color: #fff;
			text-decoration: none;
			border: 2px solid #fff;
			outline: 0;
			-webkit-transition: all 1s ease;
			-moz-transition: all 1s ease;
			-o-transition: all 1s ease;
			transition: all 1s ease;
		}

		a.animated-button:hover {
			border: 2px solid #252525;
			-webkit-transition: all 0.5s ease;
			-moz-transition: all 0.5s ease;
			-o-transition: all 0.5s ease;
			transition: all 0.5s ease;
		}

		#canvas {
			position: absolute;
			width: 100%;
			max-width: 900px;
			top: 4vw;
			opacity: 0;
			animation: loading 5s ease-in-out;
		}

		@keyframes loading {
			0%  {opacity: 0;}
			30%	{opacity: 1; top: 2.5vw;}	
			80% {opacity: 1}
			100% {opacity: 0}
		}	

		@media screen and (max-width: 1280px) {
			h1 {
				font-size: 7.2vw;
				left: 32.5vw;
				top: -12.4vw;
			}
			h2 {
				font-size: 4.8vw;
				width: 48vw;
				left: 21vw;
				top: 4.3vw;
			}
			a.animated-button {
				padding: 0 0.2em;
			}
		}

	</style>

	<script>
		var stage, exportRoot, fnStartAnimation;
		function init() {
			anim_container = document.getElementById("animation_container");
			handleComplete();
		}
		function handleComplete() {
			exportRoot = new lib.project_animated();
			stage = new createjs.Stage(canvas);
			stage.addChild(exportRoot);	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		createjs.Ticker.setFPS(lib.properties.fps);
		createjs.Ticker.addEventListener("tick", stage);
	}	    
	//Code to support hidpi screens and responsive scaling.
	function makeResponsive(isResp, respDim, isScale, scaleType) {		
		var lastW, lastH, lastS=1;		
		window.addEventListener('resize', resizeCanvas);		
		resizeCanvas();		
		function resizeCanvas() {			
			var w = lib.properties.width, h = lib.properties.height;			
			var iw = window.innerWidth, ih=window.innerHeight;			
			var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
			if(isResp) {                
				if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
					sRatio = lastS;                
				}				
				else if(!isScale) {					
					if(iw<w || ih<h)						
						sRatio = Math.min(xRatio, yRatio);				
				}				
				else if(scaleType==1) {					
					sRatio = Math.min(xRatio, yRatio);				
				}				
				else if(scaleType==2) {					
					sRatio = Math.max(xRatio, yRatio);				
				}			
			}			
			canvas.width = w*pRatio*sRatio;			
			canvas.height = h*pRatio*sRatio;
			stage.scaleX = pRatio*sRatio;			
			stage.scaleY = pRatio*sRatio;			
			lastW = iw; lastH = ih; lastS = sRatio;		
		}
	}
	makeResponsive(false,'both',false,1);	
	fnStartAnimation();
}
</script>
</head>
<body onload="init(); createGame()">

	<script type="text/javascript">

		function createGame() {
			var config = {
				type: Phaser.CANVAS,
				width: 1280,
				height: 736,
				parrent: "conteiner",
				physics: {
					default: 'arcade',
					arcade: {
						gravity: { y: 600 },
						debug: false
					}
				},
				scene: {
					preload: preload,
					create: create,
					update: update
				},
				crisp: true,
				antialias: false,
				pixelArt: true,
				roundPixels: true,
				alignH:      true,
				alignV:      true,
				backgroundColor: '#252525'
			};

			game = new Phaser.Game(config);
		}

		var score = 0;
		var scoreText;
		var bestScoreText;

		let game 
		let scene

		let cursors
		let spaceButton
		let leftButton
		let rightButton
		let jumpButton

		let player
		let platforms

		let shooting = false

		function preload() {
			scene = game.scene.scenes[0]

			this.load.image('background', 'assets/background.png');
			this.load.image('foreground', 'assets/foreground.png');
			this.load.image('city', 'assets/city.png');
			this.load.image('ground', 'assets/ground.png');
			this.load.image('jump-up', 'assets/jump-up.png');
			this.load.image('jump-down', 'assets/jump-down.png');
			this.load.image('box', 'assets/box.png');
			this.load.image('cloud', 'assets/cloud.png');
			this.load.image('bullet', 'assets/bullet.png');
			this.load.image('harpoon', 'assets/harpoon.png');
			this.load.spritesheet('char-idle', 'assets/idle.png', { frameWidth: 15, frameHeight: 41 });
			this.load.spritesheet('char-walking', 'assets/walking.png', { frameWidth: 26, frameHeight: 41 });
			this.load.spritesheet('char-shoot', 'assets/shoot.png', { frameWidth: 88, frameHeight: 54 });
			this.load.spritesheet('platform', 'assets/platform.png', { frameWidth: 55, frameHeight: 44 });
			this.load.spritesheet('baloon', 'assets/baloon.png', { frameWidth: 53, frameHeight: 106 });
			this.load.spritesheet('house', 'assets/house.png', { frameWidth: 74, frameHeight: 194 });
			this.load.spritesheet('gear', 'assets/gear.png', { frameWidth: 20, frameHeight: 20 });
			this.load.spritesheet('aqualangee-idle', 'assets/aqualangee-idle.png', { frameWidth: 48, frameHeight: 56 });
			this.load.spritesheet('aqualangee-shoot', 'assets/aqualangee-shoot.png', { frameWidth: 48, frameHeight: 56 });
			this.load.spritesheet('aqualangee-appears', 'assets/aqualangee-appears.png', { frameWidth: 48, frameHeight: 56 });

			cursors = this.input.keyboard.createCursorKeys()
			spaceButton = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE)
			leftButton = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A)
			rightButton = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D)
			jumpButton = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W)
		}


		function prepareAnimations() {
			scene.anims.create({
				key: 'idle',
				frames: scene.anims.generateFrameNumbers('char-idle'),
				frameRate: 13,
				repeat: -1
			});

			scene.anims.create({
				key: 'walk',
				frames: scene.anims.generateFrameNumbers('char-walking'),
				frameRate: 10,
				repeat: -1
			});

			scene.anims.create({
				key: 'shoot',
				frames: scene.anims.generateFrameNumbers('char-shoot'),
				frameRate: 12,
				repeat: -1
			});

			scene.anims.create({
				key: 'platform',
				frames: scene.anims.generateFrameNumbers('platform'),
				frameRate: 10,
				repeat: -1
			})

			scene.anims.create({
				key: 'baloon',
				frames: scene.anims.generateFrameNumbers('baloon'),
				frameRate: 10,
				repeat: -1
			})

			scene.anims.create({
				key: 'house',
				frames: scene.anims.generateFrameNumbers('house'),
				frameRate: 10,
				repeat: -1
			})

			scene.anims.create({
				key: 'gear',
				frames: scene.anims.generateFrameNumbers('gear'),
				frameRate: 12,
				repeat: -1
			})

			scene.anims.create({
				key: 'aqualangee-idle',
				frames: scene.anims.generateFrameNumbers('aqualangee-idle'),
				frameRate: 12,
				repeat: -1
			})

			scene.anims.create({
				key: 'aqualangee-shoot',
				frames: scene.anims.generateFrameNumbers('aqualangee-shoot'),
				frameRate: 10,
			})

			scene.anims.create({
				key: 'aqualangee-appears',
				frames: scene.anims.generateFrameNumbers('aqualangee-appears'),
				frameRate: 10,
			})
		}

		let oneWayColliders
		let box
		let clouds
		let gearsGroup
		let platformsGroup
		let aqualangeeGroup
		let lastShootDate = new Date()

		function create () {
			
		}

		function loadScene() {

			let button = document.getElementsByClassName('animated-button')[0]
			button.style.border = "none"
			button.style.pointerEvents = "none"
			button.style.cursor = "default"

			let duration = 2000
			let delay = 1000
			scene.add.tween({targets: [scene.add.image(640, 420, 'background').setScale(2)], duration: duration, delay: delay, y: 368, ease: 'Cubic.easeInOut'})
			scene.add.tween({targets: [scene.add.image(640, 500, 'city').setScale(2)], duration: duration, delay: delay, y: 368, ease: 'Cubic.easeInOut'})
			scene.add.tween({targets: [scene.add.image(640, 800, 'foreground').setScale(2)], duration: duration, delay: delay, y: 368, ease: 'Cubic.easeInOut'})
			let ground = scene.add.image(640, 368, 'ground').setScale(2);
			ground.depth = 98
			prepareAnimations()

			player = scene.physics.add.sprite(300, -260, 'char-idle').setScale(2)
			player.body.offset.x = 7
			player.depth = 100
			player.disableBody()
			scene.add.tween({targets: [player], duration: duration, delay: delay + duration, y: 270, ease: 'Cubic.easeInOut', onComplete: () => {player.enableBody()
				spawnEnemy()
				setInterval(function() {
					if (Phaser.Math.Between(0, 100) < Math.max(90 - score, 10) && aqualangeeGroup.children.entries.length != 0) {
						return
					}
					if (aqualangeeGroup.children.entries.length < 8) {
						spawnEnemy()
					}

				}, 1000)
			}})

			box = scene.physics.add.sprite(520, -100, 'box').setScale(2)
			box.body.offset.x = 10
			box.depth = 97
			box.disableBody()
			setTimeout(function() { box.enableBody()}, 2000)

			let cloud1 = scene.physics.add.sprite(1200, 200, 'cloud').setScale(2)
			cloud1.body.allowGravity = false
			cloud1.body.velocity.x = -30
			let cloud2 = scene.physics.add.sprite(100, 300, 'cloud').setScale(2)
			cloud2.body.allowGravity = false
			cloud2.body.velocity.x = -10

			clouds = [cloud1, cloud2]

			platformsGroup = scene.physics.add.staticGroup()
			let bottom = createStaticSprite(0, 736 - 42, 1280, 64)
			scene.physics.add.collider(player, bottom)
			scene.physics.add.collider(player, box)
			scene.physics.add.collider(bottom, box)
			scene.physics.add.collider(player, createStaticSprite(40, 0, 64, 736))
			scene.physics.add.collider(player, createStaticSprite(1280 - 40, 0, 64, 736))
			scene.physics.add.collider(player, createStaticSprite(0, 0, 1280, 64))

			let platform = scene.add.sprite(-100, 550, 'platform').setScale(2)
			scene.add.tween({targets: [platform], x: 200, duration: duration, delay: duration, ease: 'Cubic.easeInOut'})
			platform.anims.play('platform', true)

			let house = scene.add.sprite(1060, 900, 'house').setScale(2)
			scene.add.tween({targets: [house], y: 400, duration: duration, delay: delay + duration, ease: 'Cubic.easeInOut'})
			house.anims.play('house', true)

			let baloon = scene.add.sprite(300, -300, 'baloon').setScale(2)
			scene.add.tween({targets: [baloon], y: 230, duration: 2000, delay: delay + duration, ease: 'Cubic.easeInOut'})
			baloon.anims.play('baloon', true)

			oneWayColliders = [scene.physics.add.collider(player, createStaticSprite(200, 577, 80, 10))]
			oneWayColliders.push(scene.physics.add.collider(player, createStaticSprite(310, 324, 55, 10)))
			oneWayColliders.push(scene.physics.add.collider(player, createStaticSprite(1040, 550, 100, 10)))
			oneWayColliders.push(scene.physics.add.collider(player, createStaticSprite(1040, 450, 100, 10)))
			oneWayColliders.push(scene.physics.add.collider(player, createStaticSprite(460, 228, 670, 70)))
			oneWayColliders.push(scene.physics.add.collider(player, createStaticSprite(330, 450, 540, 30)))

			gearsGroup = scene.physics.add.group();
			gearsGroup.playAnimation('gear')
			scene.physics.add.collider(gearsGroup, platformsGroup)
			scene.physics.add.overlap(player, gearsGroup, collectCoin)

			aqualangeeGroup = scene.physics.add.group()

			scoreText = scene.add.text(100, 80, 'score: 0', { fontSize: '28px', fill: '#fff' })
			scoreText.setFontFamily('Verdana')

			var bestScore = localStorage.bestScore
			if (bestScore == undefined) {
				bestScore = '0'
				localStorage.bestScore = bestScore
			}

			bestScoreText = scene.add.text(100, 110, 'best: ' + bestScore, { fontSize: '20px', fill: '#ccc' })
			bestScoreText.setFontFamily('Verdana')

			showScene()
		}

		function spawnEnemy() {
			let apear = scene.physics.add.staticSprite(Phaser.Math.Between(200, 1100), Phaser.Math.Between(100, 500), 'aqualangee-appears').setScale(2)
			apear.scaleX *= apear.x > player.x ? 1 : -1
			apear.anims.play('aqualangee-appears')
			setTimeout(function() {
				let enemy = aqualangeeGroup.create(apear.x, apear.y, 'aqualangee-idle').setScale(2)
				enemy.anims.play('aqualangee-idle')
				enemy.depth = 100
				enemy.health = 2
				enemy.body.offset.x = 20
				scene.physics.add.collider(enemy, platformsGroup)
				enemy.shootIterval = setInterval(function(){
					if (Phaser.Math.Between(0, 100) > Math.max(50 - score, 10)) {
						enemy.anims.play('aqualangee-shoot')
						setTimeout(function(){enemy.anims.play('aqualangee-idle')}, 320);
						enemyShoot(enemy)
					}
				}, 2000)
				apear.destroy()
			}, 800)
		}

		function createCoin(x, y) {
			let gear = gearsGroup.create(x, y, 'gear').setScale(2);
			gear.depth = 100
			gear.setBounce(0.3)
			gear.anims.play('gear')
			setTimeout(function() { scene.add.tween({targets: [gear], alpha: 0, duration: 2000})}, 5000)
			setTimeout(function() { gear.destroy() }, 7000)
			return gear
		}

		function collectCoin(player, coin) {
			coin.disableBody(true, true);
			coin.destroy()
			score += 1
			scoreText.setText('score: ' + score);
			if (score > parseInt(localStorage.bestScore)) {
				localStorage.bestScore = score
				bestScoreText.setText('best: ' + score)
			}
		}

		function playerShoot() {
			lastShootDate = new Date()
			let sprite = scene.physics.add.sprite(player.x + 60 * player.scaleX, player.y - 15, 'bullet').setScale(2)
			sprite.body.setAllowGravity(false)
			sprite.setOriginFromFrame(0.5, 0.5)
			sprite.body.velocity.x = 800 * player.scaleX
			scene.physics.add.overlap(sprite, aqualangeeGroup, didHitEnemy)
			scene.physics.add.collider(sprite, aqualangeeGroup, didHitEnemy)
			scene.add.tween({
				targets: [sprite],
				scaleX: 0.1,
				duration: 300
			})
		}

		function enemyShoot(enemy) {
			let sprite = scene.physics.add.sprite(enemy.x - 40 * enemy.scaleX, enemy.y + 9, 'harpoon').setScale(2)
			sprite.scaleX = enemy.scaleX
			sprite.body.setAllowGravity(false)
			sprite.setOriginFromFrame(1, 0.5)
			sprite.body.velocity.x = 150 * -enemy.scaleX
			scene.physics.add.collider(player, sprite, didHit)
			scene.physics.add.overlap(sprite, aqualangeeGroup, didHitEnemy)
		}

		function didHitEnemy(bullet, enemy) {
			bullet.destroy()
			enemy.alpha = 0
			setTimeout(function() { enemy.alpha = 1 }, 100)
			enemy.health -= 1
			if (enemy.health <= 0) {
				clearInterval(enemy.shootIterval)
				enemy.destroy()

				let count = Math.random() * 3 + 1
				for (i = 0; i < count; i++) {
					let coin = createCoin(enemy.x, enemy.y)
					coin.setVelocity(Phaser.Math.Between(300, -300), Phaser.Math.Between(0, -500))
				}
			}
		}

		function didHit(player, sprite) {
			sprite.destroy()
			for (i = 0; i < parseInt(score); i++) {
				let coin = scene.physics.add.sprite(player.x, player.y, 'gear').setScale(2).anims.play('gear')
				coin.setVelocity(Phaser.Math.Between(300, -300), Phaser.Math.Between(0, -500))
			}
			player.setVelocity(player.scaleX == 2 ? - 600 : 600, -300)
			score = 0
			scoreText.setText('score: 0')
		}

		function createStaticSprite(x, y, w, h) {
			var plat = platformsGroup.create(x, y, "")
			plat.frame.width = w
			plat.frame.height = h
			plat.body.width = w
			plat.body.height = h
			plat.setTint('#000000')
			plat.alpha = 0
			return plat
		}

		function lerp(a, b, n) {
			return (1 - n) * a + n * b;
		}	

		function update () {
			if (player == undefined) { return }

				if (!spaceButton.isDown) {
					shooting = false
				}

				platformsGroup.children.iterate(function(plat) {
					plat.alpha = 0
				})

				if ((cursors.left.isDown || leftButton.isDown) && !shooting) {
					player.body.velocity.x = lerp(player.body.velocity.x, -160, 0.15)
					player.scaleX = -2;
					player.anims.play('walk', true);
				} else if ((cursors.right.isDown || rightButton.isDown) && !shooting) {
					player.body.velocity.x = lerp(player.body.velocity.x, 160, 0.15)
					player.scaleX = 2;
					player.anims.play('walk', true);
				} else if (!shooting) {
					player.body.velocity.x = lerp(player.body.velocity.x, 0, 0.2)
					player.anims.play('idle', true);
				}

				if ((spaceButton.isDown) && player.body.velocity.y == 0) {
					shooting = true
					player.body.velocity.x = lerp(player.body.velocity.x, 0, 0.2)
					player.anims.play('shoot', true)
				}

				if (shooting) {
					if (new Date() - lastShootDate > 400 && (player.anims.currentFrame.index == 2 || player.anims.currentFrame.index == 9)) {
						playerShoot()
					}
				}

				if ((cursors.up.isDown || jumpButton.isDown) && player.body.touching.down) {
					player.setVelocityY(-430);
				} else if (player.body.velocity.y < 0 && !player.body.touching.down && !(cursors.up.isDown || jumpButton.isDown)) {
					player.body.velocity.y += 20
				}

				if (player.body.velocity.y < 0) {
					player.setTexture('jump-up')
				} else if (player.body.velocity.y > 0) {
					player.setTexture('jump-down')
				}

				for (i in oneWayColliders) {
					if (player.body.velocity.y < 0) {
						oneWayColliders[parseInt(i)].active = false
					} else {
						oneWayColliders[parseInt(i)].active = true
					}
				}

				if (box.body.touching.down) {
					box.body.immovable = true
					box.body.allowGravity = false
					box.body.offset.y = 3
				}
				if (box.body.position.y > 200) {
					box.depth = 99
				}

				gearsGroup.children.iterate(function(gear) {
					gear.body.velocity.x = lerp(gear.body.velocity.x, 0, 0.04)
				})

				for (i in clouds) {
					let cloud = clouds[parseInt(i)]
					if (cloud.body.position.x < -600) {
						cloud.body.position.x = 1280 + 300
						cloud.body.position.y = 100 + 300 * Math.random()
						cloud.body.reset(cloud.body.position.x, cloud.body.position.y)
						cloud.body.velocity.x = -10 - 30 * Math.random()
					}
				} 

				aqualangeeGroup.children.iterate(function(enemy){
					enemy.scaleX = 2 * (player.x > enemy.x ? - 1 : 1)
				})
			}

			function showScene() {
				scene.add.tween({
					targets: scene.children.list,
					ease: 'Sine.easeInOut',
					duration: 2000,
					delay: 0,
 					// x: {
 					// 	getStart: () => startX,
 					// 	getEnd: () => endX,
 					// },
 					// y: {
 					// 	getStart: () => startY,
 					// 	getEnd: () => endY,
 					// },
 					alpha: {
 						getStart: () => 0,
 						getEnd: () => 1
 					},
 					onComplete: () => {
   	 				//handle completion
   	 			}
   	 		});
			}

			function mobileAndTabletcheck() {
				var check = false;
				(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
				return check;
			};

		</script>

		<canvas id="canvas"></canvas>
		<div id="conteiner">
			<h1>COUNTERED</h1>
			<h2>preorder or <a href="#" class="animated-button" onclick="loadScene(); return false">play now</a></h2>		
		</div>

	</body>
	</html>